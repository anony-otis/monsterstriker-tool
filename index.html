<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>怪物彈珠配裝計算器</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>選擇關卡 & 配隊</h1>
    <select id="questSel"></select>
    <div id="teamSel"><!-- 4個怪物選擇 --></div>
    <button onclick="loadDataAndRecommend()">生成推薦</button>
    <div id="result"></div>

    <script>
        let DB = {quests: [], monsters: [], guardians: []};

        async function loadData() {
            // 從 GitHub 讀最新 JSON（自動更新！）
            const responses = await Promise.all([
                fetch('monsters.json').then(r => r.json()),
                fetch('quests.json').then(r => r.json()),
                fetch('guardians.json').then(r => r.json())
            ]);
            DB.monsters = responses[0];
            DB.quests = responses[1];
            DB.guardians = responses[2];

            // 填充下拉選單
            document.getElementById('questSel').innerHTML = DB.quests.map(q => `<option value="${q.id}">${q.name}</option>`).join('');
            // ... 加怪物選擇邏輯
        }

        function loadDataAndRecommend() {
            loadData().then(() => recommend()); // recommend() 用先前邏輯
        }

        loadData(); // 頁面載入時自動讀資料
    </script>
</body>
</html>
